{"entities": [{"name": "Apache Cassandra Datacenter Cluster", "type": "org.apache.brooklyn.entity.nosql.cassandra.CassandraDatacenter", "iconUrl": "classpath:///cassandra-logo.jpeg", "effectors": [{"returnType": "java.lang.String", "name": "executeScript", "parameters": [{"defaultValue": null, "type": "java.lang.String", "name": "commands", "description": "commands"}], "description": "executes the given script contents using cassandra-cli"}, {"returnType": "java.lang.String", "name": "replaceMember", "parameters": [{"defaultValue": null, "type": "java.lang.String", "name": "memberId", "description": "The entity id of a member to be replaced"}], "description": "Replaces the entity with the given ID, if it is a member; first adds a new member, then removes this one. Returns id of the new entity; or throws exception if couldn't be replaced."}, {"returnType": "java.lang.Integer", "name": "resize", "parameters": [{"defaultValue": null, "type": "java.lang.Integer", "name": "desiredSize", "description": "The new size of the cluster"}], "description": "Changes the size of the entity (e.g. the number of nodes in a cluster)"}, {"returnType": "java.util.Collection", "name": "resizeByDelta", "parameters": [{"defaultValue": null, "type": "int", "name": "delta", "description": "The change in number of nodes"}], "description": "Changes the size of the cluster."}, {"returnType": "void", "name": "restart", "parameters": [], "description": "Restart the process/service represented by an entity"}, {"returnType": "void", "name": "start", "parameters": [{"defaultValue": null, "type": "java.lang.Object", "name": "locations", "description": "The location or locations to start in, as a string, a location object, a list of strings, or a list of location objects"}], "description": "Start the process/service represented by an entity"}, {"returnType": "void", "name": "stop", "parameters": [], "description": "Stop the process/service represented by an entity"}, {"returnType": "void", "name": "update", "parameters": [], "description": "Updates the cluster members"}], "sensors": [{"type": "com.google.common.collect.Multimap", "name": "cassandra.cluster.datacenterUsages", "links": {}, "description": "Current set of datacenters in use, with nodes in each"}, {"type": "java.util.Set", "name": "cassandra.cluster.datacenters", "links": {}, "description": "Current set of datacenters in use"}, {"type": "java.lang.Long", "name": "cassandra.cluster.first.node.started.utc", "links": {}, "description": "Time (UTC) when the first node was started"}, {"type": "java.lang.String", "name": "cassandra.cluster.hostname", "links": {}, "description": "Hostname to connect to cluster with"}, {"type": "java.lang.Double", "name": "cassandra.cluster.metrics.processCpuTime.fraction.perNode", "links": {}, "description": "Fraction of CPU time used (percentage reported by JMX), averaged over all nodes"}, {"type": "java.lang.Double", "name": "cassandra.cluster.metrics.processCpuTime.fraction.windowed", "links": {}, "description": "Fraction of CPU time used (percentage, over time window), averaged over all nodes"}, {"type": "java.lang.String", "name": "cassandra.cluster.name", "links": {}, "description": "Name of the Cassandra cluster"}, {"type": "java.util.List", "name": "cassandra.cluster.nodes", "links": {}, "description": "List of host:port of all active nodes in the cluster (thrift port, and public hostname/IP)"}, {"type": "java.lang.Integer", "name": "cassandra.cluster.read.active", "links": {}, "description": "Current active ReadStage tasks"}, {"type": "java.lang.Long", "name": "cassandra.cluster.read.pending", "links": {}, "description": "Current pending ReadStage tasks"}, {"type": "java.lang.Integer", "name": "cassandra.cluster.schema.versions.count", "links": {}, "description": "Number of different schema versions in the cluster; should be 1 for a healthy cluster, 0 when off; 2 and above indicats a Schema Disagreement Error (and keyspace access may fail)"}, {"type": "java.util.Set", "name": "cassandra.cluster.seeds.current", "links": {}, "description": "Current set of seeds to use to bootstrap the cluster"}, {"type": "java.lang.Boolean", "name": "cassandra.cluster.seeds.hasPublished", "links": {}, "description": "Whether we have published any seeds"}, {"type": "java.util.List", "name": "cassandra.cluster.start.nodes.queued", "links": {}, "description": "Nodes queued for starting (for sequential start)"}, {"type": "java.lang.Long", "name": "cassandra.cluster.thrift.latency.perNode", "links": {}, "description": "Latency for thrift port connection  averaged over all nodes (ms)"}, {"type": "java.lang.Integer", "name": "cassandra.cluster.thrift.port", "links": {}, "description": "Cassandra Thrift RPC port to connect to cluster with"}, {"type": "java.lang.Integer", "name": "cassandra.cluster.write.active", "links": {}, "description": "Current active MutationStage tasks"}, {"type": "java.lang.Long", "name": "cassandra.cluster.write.pending", "links": {}, "description": "Current pending MutationStage tasks"}, {"type": "java.lang.Double", "name": "cassandra.reads.perSec.last.perNode", "links": {}, "description": "Reads/sec (last datapoint) averaged over all nodes"}, {"type": "java.lang.Double", "name": "cassandra.reads.perSec.windowed.perNode", "links": {}, "description": "Reads/sec (over time window) averaged over all nodes"}, {"type": "java.lang.Double", "name": "cassandra.thrift.latency.windowed.perNode", "links": {}, "description": "Latency for thrift port (ms, over time window) averaged over all nodes"}, {"type": "java.lang.Double", "name": "cassandra.write.perSec.last.perNode", "links": {}, "description": "Writes/sec (last datapoint) averaged over all nodes"}, {"type": "java.lang.Double", "name": "cassandra.writes.perSec.windowed.perNode", "links": {}, "description": "Writes/sec (over time window) averaged over all nodes"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "cluster.entity", "links": {}, "description": "The cluster an entity is a member of"}, {"type": "java.lang.Boolean", "name": "cluster.first", "links": {}, "description": "Set on an entity if it is the first member of a cluster"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "cluster.first.entity", "links": {}, "description": "The first member of the cluster"}, {"type": "java.lang.Boolean", "name": "cluster.member", "links": {}, "description": "Set on an entity if it is a member of a cluster"}, {"type": "java.lang.Boolean", "name": "cluster.one_and_all.members.up", "links": {}, "description": "True cluster is running, there is on member, and all members are service.isUp"}, {"type": "java.lang.String", "name": "datastore.url", "links": {}, "description": "Primary contact URL for a datastore (e.g. mysql://localhost:3306/)"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "dynamiccluster.entityQuarantined", "links": {}, "description": "Entity failed to start, and has been quarantined"}, {"type": "java.util.Set", "name": "dynamiccluster.failedSubLocations", "links": {}, "description": "Sub locations that seem to have failed"}, {"type": "org.apache.brooklyn.entity.group.QuarantineGroup", "name": "dynamiccluster.quarantineGroup", "links": {}, "description": "Group of quarantined entities that failed to start"}, {"type": "java.util.List", "name": "dynamiccluster.subLocations", "links": {}, "description": "Locations for each availability zone to use"}, {"type": "java.util.Collection", "name": "group.members", "links": {}, "description": "Members of the group"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "group.members.added", "links": {}, "description": "Entity added to group members"}, {"type": "java.lang.Integer", "name": "group.members.count", "links": {}, "description": "Number of members"}, {"type": "org.apache.brooklyn.api.entity.Entity", "name": "group.members.removed", "links": {}, "description": "Entity removed from group members"}, {"type": "java.lang.Boolean", "name": "service.isUp", "links": {}, "description": "Whether the service is active and availability (confirmed and monitored)"}, {"type": "org.apache.brooklyn.core.entity.lifecycle.Lifecycle", "name": "service.state", "links": {}, "description": "Actual lifecycle state of the service"}], "config": [{"defaultValue": "10s", "type": "org.apache.brooklyn.util.time.Duration", "name": "cassandra.cluster.delayBeforeAdvertisingCluster", "reconfigurable": false, "description": "Delay after cluster is started before checking and advertising its availability"}, {"defaultValue": "BrooklynCluster", "type": "java.lang.String", "name": "cassandra.cluster.name", "reconfigurable": false, "description": "Name of the Cassandra cluster"}, {"type": "com.google.common.base.Supplier", "name": "cassandra.cluster.seedSupplier", "reconfigurable": false, "description": "For determining the seed nodes"}, {"defaultValue": "SimpleSnitch", "type": "java.lang.String", "name": "cassandra.cluster.snitchName", "reconfigurable": false, "description": "Type of the Cassandra snitch"}, {"defaultValue": "class org.apache.brooklyn.entity.nosql.cassandra.TokenGenerators$PosNeg63TokenGenerator", "type": "java.lang.Class", "name": "cassandra.cluster.tokenGenerator.class", "reconfigurable": false, "description": "For determining the tokens of nodes"}, {"type": "java.math.BigInteger", "name": "cassandra.cluster.tokenShift", "reconfigurable": false, "description": "Delta applied to all tokens generated for this Cassandra datacenter, useful when configuring multiple datacenters which should be shifted; if not set, a random shift is applied. (Pass 0 to prevent any shift.)"}, {"defaultValue": false, "type": "java.lang.Boolean", "name": "cassandra.cluster.useVnodes", "reconfigurable": false, "description": "Determines whether to use vnodes; if doing so, tokens will not be explicitly assigned to nodes in the cluster"}, {"defaultValue": 256, "type": "java.lang.Integer", "name": "cassandra.numTokensPerNode", "reconfigurable": false, "description": "Number of tokens per node; if using vnodes, should set this to a value like 256; will be overridden to 1 if USE_VNODES==false"}, {"defaultValue": -1, "type": "java.lang.Integer", "name": "cluster.initial.quorumSize", "reconfigurable": false, "description": "Initial cluster quorum size - number of initial nodes that must have been successfully started to report success (if < 0, then use value of INITIAL_SIZE)"}, {"defaultValue": 1, "type": "java.lang.Integer", "name": "cluster.initial.size", "reconfigurable": false, "description": "Initial cluster size"}, {"type": "java.lang.Integer", "name": "cluster.member.id", "reconfigurable": false, "description": "The unique ID number (sequential) of a member of a cluster"}, {"type": "java.lang.String", "name": "commands", "reconfigurable": false, "description": "commands"}, {"type": "java.util.Collection", "name": "dynamiccluster.availabilityZones", "reconfigurable": false, "description": "availability zones to use (if non-null, overrides other configuration)"}, {"defaultValue": {}, "type": "java.util.Map", "name": "dynamiccluster.customChildFlags", "reconfigurable": false, "description": "Additional flags to be passed to children when they are being created"}, {"type": "org.apache.brooklyn.core.entity.factory.EntityFactory", "name": "dynamiccluster.factory", "reconfigurable": false, "description": "factory for creating new cluster members"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "dynamiccluster.firstmemberspec", "reconfigurable": false, "description": "entity spec for creating new cluster members, used for the very first member if different"}, {"type": "org.apache.brooklyn.api.entity.EntitySpec", "name": "dynamiccluster.memberspec", "reconfigurable": false, "description": "entity spec for creating new cluster members"}, {"type": "java.lang.Integer", "name": "dynamiccluster.numAvailabilityZones", "reconfigurable": false, "description": "number of availability zones to use (will attempt to auto-discover this number)"}, {"defaultValue": true, "type": "java.lang.Boolean", "name": "dynamiccluster.quarantineFailedEntities", "reconfigurable": false, "description": "If true, will quarantine entities that fail to start; if false, will get rid of them (i.e. delete them)"}, {"type": "com.google.common.base.Predicate", "name": "dynamiccluster.quarantineFilter", "reconfigurable": false, "description": "Quarantine the failed nodes that pass this filter (given the exception thrown by the node). Default is those that did not fail with NoMachinesAvailableException (Config ignored if quarantineFailedEntities is false)"}, {"type": "com.google.common.base.Function", "name": "dynamiccluster.removalstrategy", "reconfigurable": false, "description": "strategy for deciding what to remove when down-sizing"}, {"type": "java.lang.String", "name": "dynamiccluster.restartMode", "reconfigurable": false, "description": "How this cluster should handle restarts; by default it is disallowed, but this key can specify a different mode. Modes supported by dynamic cluster are 'off', 'sequqential', or 'parallel'. However subclasses can define their own modes or may ignore this."}, {"defaultValue": false, "type": "java.lang.Boolean", "name": "dynamiccluster.zone.enable", "reconfigurable": false, "description": "Whether to use availability zones, or just deploy everything into the generic location"}, {"defaultValue": "org.apache.brooklyn.entity.group.zoneaware.ProportionalZoneFailureDetector@30053097", "type": "org.apache.brooklyn.entity.group.DynamicCluster$ZoneFailureDetector", "name": "dynamiccluster.zone.failureDetector", "reconfigurable": false, "description": "Zone failure detector"}, {"defaultValue": "org.apache.brooklyn.entity.group.zoneaware.BalancingNodePlacementStrategy@562ce6ad", "type": "org.apache.brooklyn.entity.group.DynamicCluster$NodePlacementStrategy", "name": "dynamiccluster.zone.placementStrategy", "reconfigurable": false, "description": "Node placement strategy"}, {"defaultValue": "QuorumCheck[all;require=0,100.0%]", "type": "org.apache.brooklyn.util.collections.QuorumCheck", "name": "enricher.service_state.children_and_members.quorum.running", "reconfigurable": false, "description": "Problems check from children actual states (lifecycle), applied by default to members and children, not checking upness, but requiring by default that none are on-fire"}, {"defaultValue": "QuorumCheck[atLeastOne;require=1,0.0%]", "type": "org.apache.brooklyn.util.collections.QuorumCheck", "name": "enricher.service_state.children_and_members.quorum.up", "reconfigurable": false, "description": "Up check, applied by default to members, requiring at least one present and up"}, {"defaultValue": false, "type": "java.lang.Boolean", "name": "group.members.delegate", "reconfigurable": false, "description": "Deprecated: Add delegate child entities for members of the group"}, {"defaultValue": "%s", "type": "java.lang.String", "name": "group.members.delegate.nameFormat", "reconfigurable": false, "description": "Delegate members name format string (Use %s for the original entity display name)"}], "description": "Cassandra is a highly scalable, eventually consistent, distributed, structured key-value store which provides a ColumnFamily-based data model richer than typical key/value systems"}]}